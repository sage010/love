<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>致 邓琳钰</title>
    <style>
        /* --- 页面基础样式 --- */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #050002; /* 深邃黑红背景 */
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: "Noto Serif SC", "SimSun", serif;
        }

        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            filter: contrast(1.2) brightness(1.1);
        }

        /* --- 中间文字 (邓琳钰) 的高级感排版 --- */
        .center-box {
            position: relative;
            z-index: 10;
            text-align: center;
            mix-blend-mode: screen; /* 混合模式让文字更融合 */
        }

        .name {
            font-size: 4.5rem;
            font-weight: 700;
            /* 流光渐变文字 */
            background: linear-gradient(135deg, #ffe6e6 0%, #ff9a9e 50%, #ff6b81 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 10px;
            text-shadow: 0 0 30px rgba(255, 107, 129, 0.6);
            animation: textBreath 3s ease-in-out infinite;
        }

        .subtitle {
            margin-top: 15px;
            font-family: "Arial", sans-serif;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            letter-spacing: 6px;
            text-transform: uppercase;
        }

        /* --- 提示点击 --- */
        .click-hint {
            position: absolute;
            bottom: 50px;
            color: rgba(255, 255, 255, 0.4);
            font-size: 14px;
            z-index: 20;
            letter-spacing: 2px;
            animation: hintPulse 2s infinite;
            pointer-events: none;
        }

        @keyframes textBreath {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 10px rgba(255, 107, 129, 0.3)); }
            50% { transform: scale(1.03); filter: drop-shadow(0 0 25px rgba(255, 107, 129, 0.6)); }
        }

        @keyframes hintPulse {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.8; }
        }

        @media (max-width: 768px) {
            .name { font-size: 2.8rem; letter-spacing: 5px; }
        }
    </style>
</head>
<body>

    <canvas id="canvas"></canvas>
    
    <div class="center-box">
        <div class="name">邓琳钰</div>
        <div class="subtitle">MY UNIVERSE</div> 
    </div>

    <div class="click-hint" id="hint">点击屏幕 · 开启音乐</div>

    <audio id="bgm" loop>
        <source src="dly.mp3" type="audio/mpeg">
    </audio>

    <script>
        // --- 1. 音乐控制逻辑 (包含手机和微信兼容修复) ---
        const audio = document.getElementById('bgm');
        const hint = document.getElementById('hint');
        let isPlayed = false; 

        function playMusic() {
            if (isPlayed) return;

            // 尝试播放，并处理浏览器可能抛出的拦截错误
            audio.play().then(() => {
                // 播放成功
                hint.style.display = 'none'; // 隐藏提示
                isPlayed = true;
            }).catch(e => {
                console.log("播放被拦截，等待下一次交互或 WeixinJSBridge 触发");
            });
        }

        // 监听多种用户交互事件，确保手机端能触发
        document.body.addEventListener('touchstart', playMusic);
        document.body.addEventListener('click', playMusic);

        // 微信专用修复代码，监听微信浏览器事件
        document.addEventListener("WeixinJSBridgeReady", function () {
            playMusic();
        }, false);


        // --- 2. 爱心粒子特效逻辑 ---
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let width, height, particles = [];
        const particleCount = 1200; 
        const colors = ['#ff9a9e', '#fecfef', '#ff6b81', '#fcb69f', '#ffdde1'];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        function getHeartPoint(t, scale = 15) {
            const x = 16 * Math.pow(Math.sin(t), 3);
            const y = 13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t);
            return { x: x * scale, y: -y * scale };
        }

        class Particle {
            constructor() { this.reset(true); }
            reset(isInit = false) {
                const t = Math.random() * 2 * Math.PI;
                const heart = getHeartPoint(t);
                const centerX = width / 2;
                const centerY = height / 2;
                this.targetX = centerX + heart.x;
                this.targetY = centerY + heart.y;
                if (isInit) {
                    this.x = Math.random() * width;
                    this.y = Math.random() * height;
                } else {
                    this.x = centerX;
                    this.y = centerY;
                }
                this.size = Math.random() * 2.5;
                this.speed = Math.random() * 0.06 + 0.02;
                this.color = colors[Math.floor(Math.random() * colors.length)];
                this.offsetX = (Math.random() - 0.5) * 20; 
                this.offsetY = (Math.random() - 0.5) * 20; 
            }
            update(beatScale, time) {
                const centerX = width / 2;
                const centerY = height / 2;
                let targetX = centerX + (this.targetX - centerX) * beatScale + this.offsetX;
                let targetY = centerY + (this.targetY - centerY) * beatScale + this.offsetY;
                targetX += Math.sin(time * 2 + this.size) * 5;
                targetY += Math.cos(time * 2 + this.size) * 5;
                this.x += (targetX - this.x) * this.speed;
                this.y += (targetY - this.y) * this.speed;
                this.draw();
            }
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
            }
        }

        function initParticles() {
            particles = [];
            for (let i = 0; i < particleCount; i++) { particles.push(new Particle()); }
        }

        function animate() {
            // 拖尾效果
            ctx.fillStyle = 'rgba(5, 0, 2, 0.15)'; 
            ctx.fillRect(0, 0, width, height);
            const time = Date.now() / 1000;
            let beat = Math.sin(time * 3); 
            let beatScale = 1 + Math.pow(Math.abs(beat), 4) * 0.12;
            particles.forEach(p => p.update(beatScale, time));
            requestAnimationFrame(animate);
        }

        initParticles();
        animate();
    </script>
</body>
</html>
